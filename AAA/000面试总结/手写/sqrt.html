<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 开方
        function sqrt(num) {
            function sqrtWrap(min,max) {
                let nextMin = min,
                    nextMax = max,
                    current = (min + max) /2
                
                if(current * current > num) {
                    nextMax = current
                }else {
                    nextMin = current
                }
                if(nextMin === min && nextMax === max) {
                    return current
                }else if(nextMax - nextMin < Number.EPSILON) {
                    return current
                }else {
                    return sqrtWrap(nextMin,nextMax)
                }
            }
            return sqrtWrap(0,num)
        }

        // 数组去重
        function uniqueArr(arr) {
            return [...new Set(arr)]
        }

        function  uniqueArr2(arr) {
            let obj = {},newArr = []
            arr.forEach(value => {
                if(!obj[value]) {
                    obj[value] = true
                    newArr.push(value)
                }
            })
            return newArr
        }

        // 数组扁平化处理
        function flatten(arr) {
            return arr.reduce((prev,current) => {
                if(Array.isArray(current)) {
                    prev.concat(flatten(current))
                }else {
                    prev.concat(current)
                }
            },[])
        }
        // 驼峰转换
        function toHumpName(str) {
            let arr = str.split('-')
            for(let i = 1; i < arr.length;i++) {
                arr[i] = arr[i].charAt(0).toUpperCase() + arr[i].substring(1)
            }
            return arr.join('')
        }

        // 比较版本号
        function  compareVersion(v1,v2) {
            v1 = v1.split('.')
            v1 = v1.split('.')
            let length = Math.max(v1,v2)
            while(v1.length < length) {
                v1.push(0)
            }
            while(v2.length < length) {
                v2.push(0)
            }
            for(let i = 0; i<length;i++){
                if(v1[i] > v2[i]) {
                    return 1
                }else if(v1[i] < v2[i]) {
                    return  -1
                }else{
                    return 0
                }
            }
        }

        function fibonacci(n) {
            if(n < 2) return n
            return fibonacci(n -1) + fibonacci(n-2)
        }

        function *fibonacci(n) {
            let [prev,cur] = [0,1]
            for(;;){
                [prev,cur] = [cur,prev + cur]
                yield cur
            }
        }
        for(let n of fibonacci) {
            console.log(n)
            if(n > 1000) break 
        }


        // 冒泡排序
        // 两两比较，如果前一个比后一个大，则交换位置
        function sort(arr) {
            for(let i = 0; i < arr.length; i ++) {
                for(let j = 0; j < arr.length - i - 1; j++) {
                    if(arr[j] > arr[j + 1]) {
                        let temp = arr[j]
                        arr[j] = arr[j + 1]
                        arr[j + 1] = temp
                    }
                }
            }
            return arr
        }

        // 选择排序 循环 每次选择最小的放在前面 
        // 时间复杂度 n^2 空间复杂度 o(1)
        function sort(arr) {
            // 倒数第二次排好以后就已经排好了，最后一次没有必要
          for(let i = 0; i < arr.length -1; i++){
              let minIndex = i
              for(let j = i + 1; j< arr.length; j++) {
                  if(arr[minIndex]> arr[j]) {
                      minIndex = j
                  }
              }
              let tmp = arr[minIndex]
              arr[minIndex] = arr[i]
              arr[i] = tmp
          }
        }

        // 插入排序 时间复杂度 n^2 空间复杂度 o(1)
        function sort(arr) {
            for(let i = 0; i < arr.length; i++){
                for(let j = i; j >=0; j--){
                    if(arr[j] > arr[j + 1]) {
                        let temp = arr[j]
                        arr[j] = arr[j + 1]
                        arr[j + 1] = temp
                    }
                }
            }
        }

        // 快速排序
        function  sort(arr) {
            let left = [],right = [],index = Math.floor(arr.length/2),
            mid = arr.splice(index,1)
            for(let i = 0; i < arr.length; i++) {
                if(arr[i] < mid) {
                    left.push(arr[i])
                }else {
                    right.push(arr[i])
                }
            }
            return sort(left).concat(mid,sort(right))
        }

    </script>
</body>
</html>