### 虚拟DOM
虚拟DOM的解决方式是通过状态生成一个虚拟节点树，然后使用虚拟节点树进行渲染。在渲染之前，会使用新生成的虚拟节点树和上一次生成的虚拟节点树进行对比，只渲染不同的部分
虚拟节点树其实是由组件树建立起来的整个虚拟节点，经常简写为vnode树
vnode描述应该怎样去创建真实的DOM节点
vnode和DOM视图是一一对应的，我们可以把vnode理解成js对象版本的DOM元素
渲染视图的过程是先创建vnode，然后再使用vnode去生成真实的DOM元素，最后插入到页面渲染视图

只要组件使用的众多状态中有一个发生了变化，那么整个组件就要重新渲染
如果组件只有一个节点发生了变化，那么重新渲染整个组件的所有节点，很明显会造成很大的性能浪费，因此，对vnode进行缓存，并将上一次缓存的vnode和当前新创建的vnode进行对比，只更新发生变化的节点就变得尤为重要。



### 模板编译

#### 模板——》模板编译——》渲染函数——》vnode——》用户界面

将模板编译成渲染函数可以分为两个步骤，先将模板解析成AST语法树(抽象语法树)，然后再使用AST生成渲染函数
但是由于静态节点不需要总是重新渲染，所以在生成AST之后，生成渲染函数之前这个阶段，需要做一个操作，那就是遍历一遍AST，给所有的静态节点做一个标记，这样在虚拟DOM中更新节点时，如果发现节点有这个标记，就不会重新渲染它



- 待解决
1. vue组件 只有一个根元素？
2. vue采用的设计模式有哪些？ 订阅发布模式，观察者模式的区别
3. vue自身的原理以及做了哪些优化
4. 使用vue可以做哪些优化

vue书 博客 vue3 ts

vue完整版本和运行时版本：
运行时版本不包含编译器，一般在生产环境使用，因为.vue文件内部的模板会在构建时预编译成js，所以最终打包完成的文件实际上不需要编译器的，所以只需要引入运行时版本即可，运行时版本比完整版小30%左右，所以应该尽可能使用运行时版本

vue事件：$on,$emit
在注册事件的时候把回调函数收集起来，在触发事件的时候把收集起来的回调函数依次调用


